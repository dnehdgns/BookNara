<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ë‚´ ì„œì¬</title>
    <link rel="stylesheet" href="/css/mybooklist.css">
</head>
<body>

<section class="library-wrap">

    <!-- ğŸ”¹ íƒ­ -->
    <div class="mypage-tabs">
        <a th:href="@{/my/booklist}" class="mypage-tab"
           th:classappend="${activeTab=='rent'} ? ' active' : ''">ëŒ€ì—¬</a>
        <a th:href="@{/my/reserve}" class="mypage-tab"
           th:classappend="${activeTab=='reserve'} ? ' active' : ''">ì˜ˆì•½</a>
        <a th:href="@{/my/bookmark}" class="mypage-tab"
           th:classappend="${activeTab=='bookmark'} ? ' active' : ''">ë¶ë§ˆí¬</a>
    </div>

    <!-- ================= ëŒ€ì—¬ ================= -->
    <div class="tab-content active" id="lend">

        <!-- âœ… í˜„ì¬ ëŒ€ì—¬ ì¤‘ -->
        <h3>í˜„ì¬ ëŒ€ì—¬ ì¤‘</h3>
        <div class="book-list">
            <div class="book-card"
                 th:each="book : ${currentLends}">
                <img th:src="${book.coverImg}">
                <p th:text="${book.bookTitle}"></p>
                <span>
                    ë°˜ë‚© ì˜ˆì • :
                    <span th:text="${#temporals.format(book.returnDueDate,'yyyy-MM-dd')}"></span>
                </span>
            </div>
        </div>

        <!-- âœ… ëŒ€ì—¬ íˆìŠ¤í† ë¦¬ -->
        <h3>ëŒ€ì—¬ ê¸°ë¡</h3>
        <div class="book-list">
            <div class="book-card"
                 th:each="book : ${lendHistory}">
                <img th:src="${book.coverImg}">
                <p th:text="${book.bookTitle}"></p>
                <span>
                    ë°˜ë‚© ì™„ë£Œ :
                    <span th:text="${#temporals.format(book.returnDoneAt,'yyyy-MM-dd')}"></span>
                </span>
            </div>
        </div>

    </div>

    <!-- ================= ì˜ˆì•½ ================= -->
    <div class="tab-content" id="reserve">
        <div class="book-list">
            <div class="book-card"
                 th:each="book : ${reserveList}">
                <img th:src="${book.coverImg}">
                <p th:text="${book.bookTitle}"></p>
                <span>
                    ì˜ˆì•½ì¼ :
                    <span th:text="${#temporals.format(book.rsvDate,'yyyy-MM-dd')}"></span>
                </span>
            </div>
        </div>
    </div>

    <!-- ================= ë¶ë§ˆí¬ ================= -->
    <div class="tab-content" id="bookmark">
        <div class="book-list">
            <div class="book-card"
                 th:each="book : ${bookmarkList}">
                <img th:src="${book.coverImg}">
                <p th:text="${book.bookTitle}"></p>
            </div>
        </div>
    </div>

</section>

<!-- ğŸ”¹ íƒ­ ì „í™˜ JS -->
<script>
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

            tab.classList.add('active');
            document.getElementById(tab.dataset.tab).classList.add('active');
        });
    });
</script>

</body>
</html>
