<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>고객센터 홈</title>

    <link rel="stylesheet" th:href="@{/css/common.css}" />
    <link rel="stylesheet" th:href="@{/css/center.css}" />
  </head>

  <body>
  <div th:replace="fragments/header :: header"></div>

    <main class="container cc">
      <!-- HERO -->
      <section class="card hero">
        <div class="hero-left">
          <h1 class="hero-title">도서관 안내</h1>
          <p class="hero-desc">
            문의 전 FAQ를 확인해 보세요! 빠르게 원하는 내용을 찾을 수 있어요.
          </p>

          <div class="hero-search">
            <input
              id="globalSearch"
              type="text"
              placeholder="전체 검색 (FAQ로 이동해 검색)"
            />
            <button id="globalSearchBtn" type="button" aria-label="검색">
              🔍
            </button>
          </div>

          <div class="hub-links">
            <a class="hub-btn" th:href="@{/location}"
              >찾아오는길</a
            >
            <a class="hub-btn" th:href="@{/guide}">이용안내</a>
            <a class="hub-btn" th:href="@{/locker}"
              >수거함안내</a
            >

            <a class="hub-btn" th:href="@{/flow}">배송방법</a>
            <a class="hub-btn"  th:href="@{/schedule}"
              >배송일정</a
            >
          </div>
        </div>

        <div class="hero-right">
          <!-- ✅ 여기 이미지 파일만 넣으면 됨 -->
          <!-- assets 폴더 만들고, 말랑 이미지 저장: assets/mallang.png -->
          <img class="hero-img" th:src="@{/images/info_mallang.png}" alt="말랑이" />
        </div>
      </section>

      <div class="cc-grid">
        <!-- LEFT MENU -->
        <aside class="card side">
          <div class="side-title">고객센터 메뉴</div>

          <div class="side-group">
            <div class="side-group-title">소식</div>
            <a class="side-link" th:href="@{/notice}">공지사항</a>
          </div>

          <div class="side-group">
            <div class="side-group-title">도움말</div>
            <a class="side-link" th:href="@{/guide}">이용안내</a>
            <a class="side-link" th:href="@{/faq}">FAQ</a>
          </div>

          <div class="side-group">
            <div class="side-group-title">문의</div>
            <a class="side-link" th:href="@{/inquiry}"
              >1:1 고객문의</a
            >
          </div>

          <div class="side-tip">
            <div class="side-tip-title">운영시간</div>
            <div class="side-tip-desc">
              평일 09:00 ~ 18:00<br />
              (점심 12:15 ~ 13:15)<br />
              토/일/공휴일 휴무
            </div>
          </div>
        </aside>

        <!-- CONTENT -->
        <section class="content">
          <section class="card panel">
            <div class="panel-head">
              <h2 class="panel-title">자주 묻는 질문 TOP</h2>
              <a class="panel-more" th:href="@{/faq}">FAQ 전체보기 →</a>
            </div>

<!--            <ul class="mini-list">-->
<!--              <li class="mini-item">-->
<!--                배송이 멈춘 것 같아요. (답변 확인은 FAQ)-->
<!--              </li>-->
<!--              <li class="mini-item">환불은 언제 처리되나요?</li>-->
<!--              <li class="mini-item">대여 기간 연장은 가능한가요?</li>-->
<!--              <li class="mini-item">비밀번호를 잊어버렸어요.</li>-->
<!--              <li class="mini-item">배송비는 얼마인가요?</li>-->
<!--            </ul>-->
            <div class="top-wrap">
              <div class="top-title">🔥 자주 묻는 TOP 3</div>
              <ul id="topList" class="faq-list"></ul>
            </div>
          </section>

          <section class="card panel">
            <div class="panel-head">
              <h2 class="panel-title">최근 공지</h2>
              <a class="panel-more" th:href="@{/notice}"
                >공지 전체보기 →</a
              >
            </div>

<!--            <ul class="mini-list">-->
<!--              <li class="mini-item">공식 연락처 안내</li>-->
<!--              <li class="mini-item">검색 불가 오류 안내</li>-->
<!--              <li class="mini-item">서비스 이용약관 개정 공지</li>-->
<!--            </ul>-->
            <ul id="noticeList" class="notice-list"></ul>
          </section>

          <section class="card cta">
            <div class="cta-left">
              <div class="cta-title">원하는 답이 없나요?</div>
              <div class="cta-desc">
                1:1 문의로 남겨주시면 말랑이가 빠르게 도와드릴게요.
              </div>
            </div>
            <a class="cta-btn" th:href="@{/inquiry}"
              >1:1 문의 등록 →</a
            >
          </section>
        </section>
      </div>
    </main>
  <div th:replace="fragments/footer :: footer"></div>

    <script th:src="@{/js/common.js}" defer></script>
    <script th:src="@{/js/information.js}" defer></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const input = document.getElementById("globalSearch");
        const btn = document.getElementById("globalSearchBtn");

        function go() {
          const q = input.value.trim();
          if (!q) return window.toast?.("검색어를 입력해 주세요!", "warn");
          localStorage.setItem("cc_global_q", q);
          window.toast?.("FAQ로 이동해서 검색할게요!", "success");
          location.href = "/faq/search?q=" + q;
        }

        btn.addEventListener("click", go);
        input.addEventListener("keydown", (e) => {
          if (e.key === "Enter") go();
        });
      });
    </script>

  </body>
</html>
